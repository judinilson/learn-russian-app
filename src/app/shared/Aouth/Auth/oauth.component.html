<div class="body-bg">
    
<div class="main-content ">
    <nav class="navbar navbar-top navbar-horizontal navbar-expand-md
        navbar-dark">
        <div class="container px-4">
            <button mdc-button  class="navbar-toggler" type="button"
                (click)="isCollapsed=!isCollapsed"
                aria-controls="sidenav-collapse-main">
                <mdc-icon style="font-size: 30px;">menu</mdc-icon>
                <!-- <span class="navbar-toggler-icon"></span> -->
            </button>

            <div class="collapse navbar-collapse " [ngbCollapse]="!isCollapsed"
                id="sidenav-collapse-main" >

                
                <!-- Navbar items -->
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link nav-link-icon nav-link-c"
                            routerLinkActive="active"
                            [routerLink]="['/dashboard']">
                            <mdc-icon>dashboard</mdc-icon>
                            <span class="nav-link-inner--text">Dashboard</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link-icon nav-link-c"
                            routerLinkActive="active"
                            [routerLink]="['/subscribe']">
                            <mdc-icon>account_circle</mdc-icon>
                            <span class="nav-link-inner--text">Register</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link nav-link-icon nav-link-c"
                            routerLinkActive="active" [routerLink]="['/login']">
                            <mdc-icon>vpn_key</mdc-icon>
                            <span class="nav-link-inner--text">Login</span>
                        </a>
                    </li>

                </ul>
            </div>
        </div>
    </nav>
    <router-outlet></router-outlet>

    <div class="container" style="margin-top: 2%;">
        <div class="header-body text-center mb-7">
            <div class="row justify-content-center">
                <div class="col-lg-5 col-md-6">
                    <h1 class="text-white">Welcome!</h1>
                    <p class="text-lead text-light">Sign up or log in to
                        continue to have full access to the app</p>
                </div>
            </div>
        </div>
    </div>

    <div  *ngIf="(alert | async)" class="col-md-4 offset-md-7">
        <div *ngIf="!unknowneror" class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Login Failed</strong><br> 
            Your Username and/or password do not match <strong>!</strong>
            <button  type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <div *ngIf="unknowneror" class="alert alert-danger alert-dismissible fade show" role="alert">
            <strong>Network Error</strong><br> 
            the network connection is lost please reload page<strong>!</strong>
            <button  type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>

    </div>

   

</div>

<div class="container mt--8 pb-5">
    <div class="row justify-content-center">
        <div class="col-lg-5 col-md-7">

            <mdc-card class="card-mdc mdc-elevation--z12">
                <div class="card-header-mdc">
                    <h4> войдите, чтобы продолжить</h4>
                    <img src={{lock_user_icon}}/>
                </div>

                <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                    <!-- Username -->
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class='far
                                        fa-user'></i></span>
                            </div>
                            <input type="text" formControlName="username"
                                class="form-control" placeholder="Username"
                                [ngClass]="{ 'is-invalid': submitted &&
                                f.username.errors }" />
                            <div *ngIf="submitted && f.username.errors"
                                class="invalid-feedback">
                                <div *ngIf="f.username.errors.required">Username
                                    is required</div>
                            </div>
                        </div>
                    </div>

                    <!-- password -->
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class='fa
                                        fa-lock'></i></span>
                            </div>
                            <input type="password" formControlName="password"
                                class="form-control" placeholder="Password"
                                [ngClass]="{ 'is-invalid': submitted &&
                                f.password.errors }" />
                            <div *ngIf="submitted && f.password.errors"
                                class="invalid-feedback">
                                <div *ngIf="f.password.errors.required">Password
                                    is required
                                </div>
                                <div *ngIf="f.password.errors.minlength">Password
                                    must be at least 8 characters ********
                                </div>

                            </div>
                            
                        </div>
                    </div>
                    <div class="custom-control custom-control-alternative custom-checkbox">
                        <input class="custom-control-input" id=" customCheckLogin" type="checkbox">
                        <label class="custom-control-label" for=" customCheckLogin">
                          <span class="text-muted">Remember me</span>
                        </label>
                    </div>
                    <div class="sign-in-btn">
                        <button mdc-button raised [disabled]="loading"
                            class="btn btn-primary sign-button">
                            <span *ngIf="loading" class="spinner-border
                                spinner-border-sm mr-1"></span>
                            Sign-in
                        </button>
                    </div>

                    <!-- <div *ngIf="error" class="alert alert-danger mt-3 mb-0">{{error}}</div> -->
                </form>
            </mdc-card>

            <div class="row mt-3">
                <div class="col-6">
                    <a href="javascript:void(0)" class="text-light"><small>Forgot
                            password?</small></a>
                </div>
                <div class="col-6 text-right">
                    <a class="text-light" routerLinkActive="active"
                        [routerLink]="['/subscribe']"><small>Create new account</small></a>
                </div>
            </div>

        </div>
    </div>

</div>

<footer class="py-5">
    <div class="container">
        <div class="row align-items-center justify-content-xl-between">
            <div class="col-xl-6">
                <div class="copyright text-center text-xl-left text-muted">
                    &copy; {{ footer_td | date: "yyyy" }} <a href="#"
                        class="font-weight-bold ml-1" target="_blank">АСОИУ</a>
                </div>
            </div>
        </div>
    </div>
</footer>
</div>